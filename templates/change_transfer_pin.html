{% extends 'base.html' %} {% block content %}

<div class="d-flex flex-column justify-content-center align-items-center mt-5">
  <div style=' 
  display: flex;
  align-items: center;
  gap: 5px;'>
    <span class="text-muted h3">Change Pin</span
    >
  </div>
  <div class="col-10 col-xs-10 col-sm-10 col-md-6">
    <!-- wallet sending money form-->
    <form
      action=""
      method="post"
      class="p-3 mt-5 w-100"
      style="box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
    background: rgba(116, 111, 111, 0.212); 
      
      "
    >
      <!-- Flash messages -->
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <div
        class="alert-dismissible fade show mb-4 m-auto small alert alert-{{ category }}"
        role="alert"
        style="height: 3.5rem; transition: 0.6s"
      >
        {% if category=='success' %}
        <div class="small text-center">
          <i class="fa fas fas fa-check"></i>&nbsp;&nbsp;&nbsp;{{ message }}
        </div>
        {% else %}
        <div class="small text-center">
          <i class="fa fas fa-exclamation-triangle"></i>&nbsp;&nbsp;&nbsp;{{
          message }}
        </div>
        {% endif %}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %} {% endif %} {% endwith %}

      <div
        class="bg-light d-flex mb-3 rounded"
        style="width: fit-content; margin: auto"
      >
        <img
          src="{{ url_for('static', filename='images/logo-normal.png') }}"
          class="p-2"
          style="width: 4.5rem; margin: auto"
          alt=""
        />
      </div>
      {{ form.hidden_tag() }}
        <!-- For wallet number -->
        <div class="form-group">
            {{ form.new_pin.label(class='form-label text-muted h') }}
            {{ form.new_pin(class='form-control', placeholder='Enter new 4 digits transfer pin') }}

            {% for error in form.new_pin.errors %}
            <p class="text-danger small">{{ error }}</p>
            {% endfor %}
            <br>
            <p class="text-center"><span class="" style="font-size: .9rem;"> SECRET QUESTION: </span><br>
            <strong>{{secret_question}}</strong>
            </p>
            {{ form.secret_answer.label(class='form-label text-muted h6') }}
            {{ form.secret_answer(class='form-control', placeholder='Enter secret answer') }}   
            {% for error in form.secret_answer.errors %}
            <p class="text-danger small">{{ error }}</p>
            {% endfor %}
            
        </div>

      
            <!-- For submit button -->
      {{ form.submit(size=20, class='btn btn-success mt-4 w-100 p-1')}}
    </form>
  </div>
</div>
{% endblock content %}
